<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="author" content="甚谁">
    <meta name="description" content="这是一个甚谁语录的非营利性网站，旨在传播甚谁思想和引发思辨。">
    <title>甚谁语录</title>
    <link rel="stylesheet" href="google.css">
    <link rel="stylesheet" href="slides.css">
    <script src="text.js"></script>
    <script src="slides.js"></script>
    <script>
        function hide() {
            document.getElementById("avatar").style.display = "none";
            document.getElementById("switcher").style.display = "none";
            document.getElementById("resultcount").style.display = "none";
            document.getElementById("container").style.display = "block";
        }

        var num_quotes = 111;
        function swap() {
            hide();
            removeSlides();
            addSlide("quotes/" + Math.round(Math.random() * num_quotes) + ".jpg");
            showSlides(0);
        }

        function latest() {
            hide();
            removeSlides();
            addSlide("quotes/" + (num_quotes - 1) + ".jpg");
            showSlides(0);
        }

        function removeSlides() {
            container = document.getElementById("container");
            switcher = document.getElementById("switcher");
            container.innerHTML = "";
            switcher.innerHTML = "";
        }

        function addSlide(img_link) {
            container = document.getElementById("container");
            switcher = document.getElementById("switcher");
            N = container.childElementCount;

            var slide = document.createElement("div");
            slide.className = "mySlides fade";
            var img = document.createElement("img");
            img.src = img_link;
            img.className = "halfsize";
            slide.appendChild(img);
            container.appendChild(slide);

            /*<div class="mySlides fade">
                <img src="quotes/0.jpg" class="halfsize">
            </div>*/

            var dot = document.createElement("span");
            dot.className = "dot";
            dot.setAttribute("onclick", "currentSlide(" + (N+1) + ")");
            switcher.appendChild(dot);

            // <span class="dot" onclick="currentSlide(1)"></span>
        }

        function search() {
            count = document.getElementById("resultcount");
            s = document.getElementById("searchinput").value;
            s = s.replace(/\s/g, '')
            if (!s.length) {
                return; // contain only whitespaces
            }
            hide();
            removeSlides();
            res = [];
            for (var i = 0; i < text.length; i++) {
                if (text[i].includes(s)) {
                    res.push(i);
                }
            }
            document.getElementById("resultcount").style.display = "block";
            document.getElementById("switcher").style.display = "block";
            
            if (!res.length) {
                count.innerHTML = "Your search - <b>" + s + "</b> - did not match any quotes.";
                count.style.color = "#000000";
            } else {
                count.innerHTML = res.length + " results";
                count.style.color = "#70757a";

                for (var i = 0; i < res.length; i++) {
                    addSlide('quotes/' + res[i] + '.jpg');
                }
                showSlides(0);
            }
            return res;
        }
    </script>
</head>

<body>

<div class="container">
<div class"logo">
    <img class="google-logo"src="img/shenshei.png">
</div>


<div class="searchbar">
    <div jscontroller="W5mjOc" jsmodel="QubRsd" class="A8SBwf" jsdata="LVplcb;_;" jsaction="lX6RWd:w3Wsmc;DkpM0b:d3sQLd;IQOavd:dFyQEf;XzZZPe:jI3wzf;Aghsf:AVsnlb;iHd9U:Q7Cnrc;f5hEHe:G0jgYd;vmxUb:j3bJnb;R2c5O:LuRugf;R3Yrj:DURTdb;qiCkJd:ANdidc;NOg9L:HLgh3;uGoIkd:epUokb;zLdLw:eaGBS;rcuQ6b:npT2md">

        <style data-iml="1620169376008">.A8SBwf{position:relative;margin:0 auto;padding-top:6px;width:484px;width:auto;max-width:484px;}#searchform.big .A8SBwf{width:584px;width:auto;max-width:584px}.A8SBwf{width:auto;max-width:584px}.RNNXgb{background:#fff;display:flex;border:1px solid #dfe1e5;box-shadow:none;border-radius:24px;z-index:3;height:44px;margin:0 auto;width:482px;width:auto;}.minidiv .RNNXgb{background:#fff;height:32px;border-radius:16px;margin:10px 0 0}.emcav .RNNXgb{border-bottom-left-radius:0;border-bottom-right-radius:0;border-color:rgba(223,225,229,0);box-shadow:0 1px 6px rgba(32,33,36,.28)}.minidiv .emcav .RNNXgb{border-bottom-left-radius:0;border-bottom-right-radius:0}.emcav.emcat .RNNXgb{border-bottom-left-radius:24px;border-bottom-right-radius:24px}.minidiv .emcav.emcat .RNNXgb{border-bottom-left-radius:16px;border-bottom-right-radius:16px}.RNNXgb:hover,.sbfc .RNNXgb{background-color:#fff;box-shadow:0 1px 6px rgba(32,33,36,.28);border-color:rgba(223,225,229,0)}.UUbT9{width:auto}#searchform.big .RNNXgb{width:582px;width:auto}.RNNXgb{width:auto;max-width:584px}.SDkEP{flex:1;display:flex;padding:5px 8px 0 16px;padding-left:14px;}.minidiv .SDkEP{padding-top:0}.FPdoLc{padding-top:18px;top:53px;z-index:0;}#searchform.big .FPdoLc{}.iblpc{display:flex;align-items:center;padding-right:13px;margin-top:-5px}.minidiv .iblpc{margin-top:0}</style>
        
        <div class="RNNXgb" jsname="RNNXgb"><div class="SDkEP">
            <div class="iblpc" jsname="uFMOof">
                <style data-iml="1620956242288">.CcAdNb{margin:auto}.QCzoEc{margin-top:3px;color:#9aa0a6;height:20px;width:20px}</style>
                <div class="CcAdNb">
                    <span class="QCzoEc z1asCe MZy1Rb"><svg focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path></svg></span>
                </div>
            </div>
            <div jscontroller="JGHKP" class="a4bIc" jsname="gLFyf" jsaction="h5M12e;input:d3sQLd;blur:jI3wzf"><style data-iml="1620956242288">.gLFyf{background-color:transparent;border:none;margin:0;padding:0;color:rgba(0,0,0,.87);word-wrap:break-word;outline:none;display:flex;flex:100%;-webkit-tap-highlight-color:transparent;margin-top:-37px;height:34px;font-size:16px}.minidiv .gLFyf{margin-top:-35px;}.a4bIc{display:flex;flex:1;flex-wrap:wrap}.pR49Ae{color:transparent;flex:100%;white-space:pre;height:34px}.pR49Ae span{background:url("/images/experiments/wavy-underline.png") repeat-x scroll 0 100% transparent;padding:0 0 10px 0;}</style>
                <div class="pR49Ae gsfi" jsname="vdLsw"></div>
                <input id="searchinput" class="gLFyf gsfi" jsaction="paste:puy29d;" maxlength="2048" name="q" type="text" aria-autocomplete="both" aria-haspopup="false" autocapitalize="off" autocomplete="off" autocorrect="off" autofocus="" role="combobox" spellcheck="false" title="Search" value="" aria-label="Search" data-ved="0ahUKEwjH3NXHhMjwAhVYFVkFHd_LD4AQ39UDCAY">
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    var input = document.getElementById("searchinput");
    // Execute search when the user releases enter
    input.addEventListener("keyup", function(event) {
        if (event.keyCode === 13) {
            // Cancel the default action, if needed
            event.preventDefault();
            search();
        }
    });
</script>

<div class="buttons">
    <button onclick="search()">Search</button>
    <button onclick="latest()">Latest Quote</button>
    <button onclick="swap()">I'm Feeling Lucky</button>
</div>

<p id=resultcount></p>

<img id="avatar" class="halfsize" src="img/avatar.jpg">


<!-- Slideshow container -->
<div id="container" class="slideshow-container">
</div>
<br>

<!-- The dots/circles -->
<div id="switcher" style="text-align:center">
</div>

</div>

</body>
</html>
